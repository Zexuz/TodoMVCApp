@model Todo.MVC.ViewModels.IndexViewModel
@{
    ViewData["Title"] = "Home Page";
}

@foreach (var note in Model.Notes)
{
    <article class="note z-depth-1">
        <a href="#modal-note-@note.Id">
            <h2 class="title">@note.Title</h2>
            <div>@note.Note</div>
        </a>
        <div id="modal-note-@note.Id" class="modal">
            <div class="modal-content">
                <h2 class="title" contenteditable="true">@note.Title</h2>
                <div contenteditable="true">@note.Note</div>
                <p class="grey">Last edit @note.LastEdit</p>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Done<i class="material-icons right">send</i></a>
            </div>
        </div>
    </article>
}

@foreach (var checkList in Model.Checklists)
{
    <article class="checklist col s4 z-depth-1">

        <a href="#modal-checklist-@checkList.Id">
            <h2 class="title">@checkList.Title</h2>
        </a>

        @foreach (var checkListItem in checkList.CheckList)
        {
            <div >
                <input type="checkbox" data-id="@checkListItem.Id" data-checklist-id="@checkList.Id" id="indeterminate-checkbox-@checkListItem.Id" class="checkbox-listener id-nr-@checkListItem.Id" @if (checkListItem.Checked)
                                                                                                                     {
                                                                                                                         @Html.Raw("checked")
                                                                                                                     }/>

                <label for="indeterminate-checkbox-@checkListItem.Id">
                    <a href="#modal-checklist-@checkList.Id">
                        @checkListItem.Text
                    </a>
                </label>
            </div>
        }

        <div id="modal-checklist-@checkList.Id" class="modal">
            <div class="modal-content">
                <h2 class="title" contenteditable="true">@checkList.Title</h2>
                @foreach (var checkListItem in checkList.CheckList)
                {
                    <div >
                        <input type="checkbox" data-id="@checkListItem.Id" data-checklist-id="@checkList.Id" id="indeterminate-checkbox-modal-@checkListItem.Id" class="id-nr-@checkListItem.Id" @if (checkListItem.Checked)
                                                                                                                                   {
                                                                                                                                       @Html.Raw("checked")
                                                                                                                                   }/>

                        <label for="indeterminate-checkbox-modal-@checkListItem.Id">@checkListItem.Text</label>
                    </div>
                }
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Done<i class="material-icons right">send</i></a>
            </div>
        </div>
    </article>
}